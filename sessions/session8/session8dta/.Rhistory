load("aerzte.rdata")
setwd("/media/mandy/Volume/transcend/life/2016kurs/session8/session8dta")
load("aerzte.rdata")
fa
ha
library(ggplot2)
library(gridExtra)
p.fa <- ggplot(fa,aes(x = as.numeric(age.group),
y = Mittelwert,
linetype = Geschlecht)) +
scale_linetype_manual(values = c(1,3,4)) +
geom_line(size = 1.5) +
theme_bw() +
theme(
legend.position = c(0.2,0.9),
legend.key.width = unit(2,"cm"),
legend.background = element_blank()
)
p.fa
head(fa)
p.fa <- ggplot(fa,aes(x = as.numeric(age.group),
y = mean.val,
linetype = sex)) +
scale_linetype_manual(values = c(1,3,4)) +
geom_line(size = 1.5) +
theme_bw() +
theme(
legend.position = c(0.2,0.9),
legend.key.width = unit(2,"cm"),
legend.background = element_blank()
)
p.fa
p.fa
p.ha <- p.fa %+% ha
p.ha
p.ha + labs(x = "Altersgruppen",
y = "Mittelwert Hausarztbesuch")
fa$physician <- "specialist"
ha$physician <- "general"
fa$physician <- "specialist"
ha
fa
rbind(fa,ha)
phys <- rbind(fa,ha)
p.fa %+% phys + facet_wrap(~physician,nrow = 2)
ggplot(phys,aes(x = as.numeric(age.group),
y = mean.val,
linetype = sex)) +
scale_linetype_manual(values = c(1,3,4)) +
geom_line(size = 1.5) +
facet_wrap(~physician,ncol =2) +
theme_bw() +
theme(
legend.position = c(0.2,0.9),
legend.key.width = unit(2,"cm"),
legend.background = element_blank()
)
ggplot(phys,aes(x = as.numeric(age.group),
y = mean.val,
linetype = sex)) +
scale_linetype_manual(values = c(1,3,4)) +
geom_line(size = 1.5) +
facet_wrap(~physician,nrow =2) +
theme_bw() +
theme(
legend.position = c(0.2,0.9),
legend.key.width = unit(2,"cm"),
legend.background = element_blank()
)
ggplot(phys,aes(x = as.numeric(age.group),
y = mean.val,
linetype = sex)) +
scale_linetype_manual(values = c(1,3,4)) +
geom_line(size = 1.5) +
facet_wrap(~physician,nrow =2,scales = "free_y") +
theme_bw() +
theme(
legend.position = c(0.2,0.9),
legend.key.width = unit(2,"cm"),
legend.background = element_blank()
)
ggplot(phys,aes(x = as.numeric(age.group),
y = mean.val,
linetype = sex)) +
scale_linetype_manual(values = c(1,3,4)) +
geom_line(size = 1.5) +
facet_wrap(~physician,nrow =2,scales = "free") +
theme_bw() +
theme(
legend.position = c(0.2,0.9),
legend.key.width = unit(2,"cm"),
legend.background = element_blank()
)
ggplot(phys,aes(x = as.numeric(age.group),
y = mean.val,
linetype = sex)) +
scale_linetype_manual(values = c(1,3,4)) +
geom_line(size = 1.5) +
facet_wrap(~physician,nrow =2,scales = "free_y") +
theme_bw() +
theme(
legend.position = c(0.2,0.9),
legend.key.width = unit(2,"cm"),
legend.background = element_blank()
)
load("kromeyer.rdata")
View(kh)
kh %>% group_by(GRP) %>%
summarise(
mean.age = mean(AGE)
)
library(dplyr)
kh %>% group_by(GRP) %>%
summarise(
mean.age = mean(AGE)
)
kh.sum <- kh %>% group_by(GRP) %>%
summarise(
mean.age = mean(AGE),
sd.age = sd(AGE),
mean.bmi = mean(BMI_SDS,na.rm = T)
)
kh.sum
kh.sum <- kh %>% group_by(GRP) %>%
summarise(
mean.age = mean(AGE),
sd.age = sd(AGE),
mean.bmi = mean(BMI_SDS,na.rm = T),
sd.bmi = mean(BMI_SDS,na.rm = T),
mean.height = mean(HEIGHT_SDS,na.rm = T),
sd.height = mean(HEIGHT_SDS,na.rm = T),
mean.weight = mean(WEIGHT_SDS,na.rm = T),
sd.weight = mean(WEIGHT_SDS,na.rm = T)
)
kh.sum <- kh %>% group_by(GRP) %>%
summarise(
mean.age = mean(AGE),
sd.age = sd(AGE),
mean.bmi = mean(BMI_SDS,na.rm = T),
sd.bmi = sd(BMI_SDS,na.rm = T),
mean.height = mean(HEIGHT_SDS,na.rm = T),
sd.height = sd(HEIGHT_SDS,na.rm = T),
mean.weight = mean(WEIGHT_SDS,na.rm = T),
sd.weight = sd(WEIGHT_SDS,na.rm = T)
)
kh.sum
kh.sum.time <- kh %>% group_by(month,year) %>%
summarise(
n.obs = n()
)
kh$month <- year(kh$month)
library(lubridate)
kh$year <- year(kh$EDAT)
kh$month <- year(kh$month)
kh.sum.time <- kh %>% group_by(month,year) %>%
summarise(
n.obs = n()
)
kh$month <- year(kh$month)
library(lubridate)
kh$year <- year(kh$EDAT)
kh$month <- year(kh$month)
library(lubridate)
kh$year <- year(kh$EDAT)
kh$month <- month(kh$EDAT)
kh.sum.time <- kh %>% group_by(year,month) %>%
summarise(
n.obs = n()
)
kh.sum.time
ggplot(kh.sum.time,aes(x = month, y = n.obs)) +
geom_line()
ggplot(kh.sum.time,aes(x = month, y = n.obs, colour = factor(year))) +
geom_line()
month.abb
month.name
ggplot(kh.sum.time,aes(x = month, y = n.obs, colour = factor(year))) +
geom_line() +
scale_x_continuous(breaks = 1:12, labels = month.name)
ggplot(kh.sum.time,aes(x = month, y = n.obs, colour = factor(year))) +
geom_bar()
ggplot(kh.sum.time,aes(x = month, y = n.obs, colour = factor(year))) +
geom_bar(stat = "identity")
ggplot(kh.sum.time,aes(x = month, y = n.obs, colour = factor(year))) +
geom_bar(stat = "identity",position = position_dodge())
ggplot(kh.sum.time,aes(x = month, y = n.obs, colour = factor(year))) +
geom_point() +
scale_x_continuous(breaks = 1:12, labels = month.name)
ggplot(kh.sum.time,aes(x = month, y = n.obs, colour = factor(year))) +
geom_point(size = 3) +
geom_line() +
scale_x_continuous(breaks = 1:12, labels = month.name)
kh <- filter(kh,EDAT < as.POSIXct("2016-07-01"))
kh$year <- year(kh$EDAT)
## Exercise
### Create a column `month` containing the month from the `EDAT`
### column (the respective command is not surprisingly `month()`)!
kh$month <- month(kh$EDAT)
head(kh)
### Now use these two variables `month` and `year` and `dplyr` for
### counting the number of anthro measurements per month.
### Create a new data frame containing the summarised information.
kh.sum.time <- kh %>% group_by(year,month) %>%
summarise(
n.obs = n()
)
### Create a plot showing the months of the year on the x-axis and
### number of anthro entries on the y-axis; draw one line per year.
ggplot(kh.sum.time,aes(x = month,y=n.obs,colour=factor(year))) +
geom_line() +
scale_x_continuous(breaks = 1:12,labels = month.abb)
m1 <- lm(BMI_SDS ~ year,data = kh)
summary(m1)
m1 <- lm(BMI_SDS ~ factor(year),data = kh)
summary(m1)
m1 <- aov(BMI_SDS ~ factor(year),data = kh)
TukeyHSD(m1)
summary(m1)
summary.lm(m1)
TukeyHSD(m1)
?TukeyHSD
