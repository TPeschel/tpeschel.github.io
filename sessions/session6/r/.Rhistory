summary.aov(m.race)
summary(m.race2)
m.race2   <- aov( babies$bwt ~ babies$race )
summary(m.race2)
summary.lm(m.race2)
TukeyHSD(m.race)
TukeyHSD(m.race2)
class(m.race)
class(m.race2)
TukeyHSD(anova(m.race2))
babies$number.sorted <- factor( babies$number, levels = names( sort( tbl.number, decreasing = T ) ) )
ggplot ( babies ) +
geom_histogram( aes( number ), stat = 'count' )
ggplot ( babies ) +
geom_histogram( aes( number.sorted ), stat = 'count' )
library( "readxl" )
library( "ggplot2" )
setwd( "~/Dokumente/RLearning/githubRepos/tpeschel.github.io/sessions/session6/r/" )
babies <- read_excel( "../data/babies.xlsx" )
head( babies )
kg.per.oz <- 28.34952e-3
babies$bwt <- round( babies$wt * kg.per.oz, 3 )
unique( babies$race )
unique( babies$smoke )
unique( babies$number )
tbl.bwt    <- table( round( babies$bwt ) )
tbl.race   <- table( babies$race )
tbl.smoke  <- table( babies$smoke )
tbl.number <- table( babies$number )
prop.table( tbl.bwt )
prop.table( tbl.race )
prop.table( tbl.smoke )
prop.table( tbl.number )
prop.table( tbl.bwt )
prop.table( tbl.race )
prop.table( tbl.smoke )
prop.table( tbl.number )
summary( tbl.bwt)
summary( tbl.bwt)
summary( babies$bwt)
summary( babies$bwt )
summary( babies$race )
summary( babies$smoke )
summary( babies$number )
ggplot ( babies ) + theme_dark( )
geom_bar( aes(  ), stat = 'count' )
ggplot ( babies ) + theme_dark( ) +
geom_bar( aes(  ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes(  ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'count' )
babies$race.sorted   <- factor( babies$race, levels = names( sort( tbl.race, decreasing = T ) ) )
babies$smoke.sorted  <- factor( babies$smoke, levels = names( sort( tbl.smoke, decreasing = T ) ) )
babies$number.sorted <- factor( babies$number, levels = names( sort( tbl.number, decreasing = T ) ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'count' )
ggplot ( babies ) + theme_dark( ) +
geom_bar( aes( race.sorted ), stat = 'count' )
ggplot ( babies ) + theme_light( ) +
geom_bar( aes( race.sorted ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( smoke.sorted ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'density' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'position' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'identity' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ), stat = 'count' )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted ) )
m.race2   <- aov( babies$bwt ~ babies$race )
m.race   <- lm( babies$bwt ~ babies$race )
m.smoke  <- lm( babies$bwt ~ babies$smoke )
m.number <- lm( babies$bwt ~ babies$number )
summary( m.race )
summary( m.smoke )
summary( m.number )
summary( babies$bwt )
summary( babies$race )
summary( babies$smoke )
summary( babies$number )
summary( m.race )
summary( m.smoke )
summary( m.number )
table( babies$race, round( babies$bwt, 1 ) )
aov( babies$bwt ~ babies$race )
aov( m.race )
anova( m.race )
aov( m.race )
anova( m.race )
aov( babies$bwt ~ babies$smoke )
aov( m.smoke )
anova( m.smoke )
aov( babies$bwt ~ babies$number )
aov( m.number )
anova( m.number )
TukeyHSD( m.race )
lm.race   <- lm( babies$bwt ~ babies$race )
lm.smoke  <- lm( babies$bwt ~ babies$smoke )
lm.number <- lm( babies$bwt ~ babies$number )
summary( lm.race )
summary( lm.smoke )
summary( lm.number )
summary.lm( lm.race )
tbl.bwt    <- table( round( babies$bwt ) )
( tbl.bwt    <- table( round( babies$bwt ) ) )
( tbl.race   <- table( babies$race ) )
( tbl.smoke  <- table( babies$smoke ) )
( tbl.number <- table( babies$number ) )
View(babies)
prop.table( tbl.race )
prop.table( tbl.smoke )
prop.table( tbl.number )
round( prop.table( tbl.bwt ), 2 )
round( prop.table( tbl.bwt ) * 100 )
round( prop.table( tbl.race ) * 100 )
round( prop.table( tbl.smoke ) * 100 )
round( prop.table( tbl.bwt ) * 100, 1 )
round( prop.table( tbl.race ) * 100, 1 )
round( prop.table( tbl.smoke ) * 100, 1 )
round( prop.table( tbl.number ) * 100, 1 )
( tbl.bwt    <- table( round( babies$bwt, 1 ) ) )
( tbl.race   <- table( babies$race ) )
( tbl.smoke  <- table( babies$smoke ) )
( tbl.number <- table( babies$number ) )
round( prop.table( tbl.bwt ) * 100, 1 )
round( prop.table( tbl.race ) * 100, 1 )
round( prop.table( tbl.smoke ) * 100, 1 )
round( prop.table( tbl.number ) * 100, 1 )
summary( babies$bwt )
summary( babies$race )
summary( babies$smoke )
summary( babies$number )
summary( babies$bwt )
summary( babies$bwt, babies$race )
summary( babies$bwt )
babies$race.sorted   <- factor( babies$race, levels = names( sort( tbl.race, decreasing = T ) ) )
babies$smoke.sorted  <- factor( babies$smoke, levels = names( sort( tbl.smoke, decreasing = T ) ) )
babies$number.sorted <- factor( babies$number, levels = names( sort( tbl.number, decreasing = T ) ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = smoke.sorted, facet_grid = number.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = smoke.sorted, facet_grid = number.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted, facet_grid = smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( babies$smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( aes( babies$smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( . ~ babies$smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( babies$number.sorted ~ . )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted, fill = number.sorted ) ) +
facet_grid( babies$race.sorted ~ . )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( smoke.sorted, fill = number.sorted ) ) +
facet_grid( babies$smoke.sorted ~ . )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( babies$smoke.sorted ~ . )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted, fill = number.sorted ) ) +
facet_grid( babies$smoke.sorted ~ race.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( fill = number.sorted ) ) +
facet_grid( babies$smoke.sorted ~ race.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted, fill = smoke.sorted ) ) +
facet_grid( babies$race.sorted ~ race.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted, fill = smoke.sorted ) ) +
facet_grid( race.sorted ~ smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted, fill = number.sorted ) ) +
facet_grid( race.sorted ~ smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted, fill = number.sorted ) ) +
facet_grid( race.sorted ~ smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted, fill = number.sorted ) ) +
facet_grid( race.sorted ~ smoke.sorted )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number, fill = number ) ) +
facet_grid( race.sorted ~ smoke.sorted )
summary( lm.race )
summary( lm.smoke )
summary( lm.number )
summary.lm( lm.race )
summary.lm( lm.smoke )
summary.lm( lm.number )
summary.aov( lm.race )
summary.aov( lm.smoke )
summary.aov( lm.number )
library(granovaGG)
granovagg.1w(babies$bwt,babies$smoke)
install.packages("granovaGG")
install.packages("granovaGG")
library(granovaGG)
granovagg.1w(babies$bwt,babies$smoke)
pf( 15.5,1,12)
1-pf( 15.5,1,12)
1-pf( 15.5,1,1235)
1-pf( 19.22,1,1235)
lm.race   <- lm( babies$bwt ~ babies$race )
lm.smoke  <- lm( babies$bwt ~ babies$smoke )
lm.number <- lm( babies$bwt ~ babies$number )
summary( lm.race )
summary( lm.smoke )
summary( lm.number )
summary( lm.race )
summary( lm.smoke )
summary( lm.race )$r.squared
summary( lm.race )$r.squared
summary( lm.smoke )$r.squared
summary( lm.number )$r.squared
summary( lm.race )
summary( lm.smoke )
summary( lm.number )
summary( lm.race )
summary( lm.race )$r.squared
summary( lm.smoke )
summary( lm.number )
summary( lm.smoke )
summary( lm.number )
summary( lm.race )$r.squared
summary( lm.smoke )$r.squared
summary( lm.number )$r.squared
summary.lm( lm.race )
summary.lm( lm.smoke )
summary.lm( lm.number )
summary.aov( lm.race )
summary.aov( lm.smoke )
summary.aov( lm.number )
aov( babies$bwt ~ babies$race )
summary.aov( lm.race )
summary.aov( lm.smoke )
summary.aov( lm.number )
aov( babies$bwt ~ babies$race )
aov( babies$bwt ~ m.race )
anova( babies$bwt ~ m.race )
aov( babies$bwt ~ babies$race )
aov( babies$bwt ~ babies$race )
aov( babies$bwt ~ babies$.smoke )
anova( babies$bwt ~ babies$.number )
aov( babies$bwt ~ babies$smoke )
anova( babies$bwt ~ babies$number )
aov( babies$bwt ~ babies$number )
aov( babies$bwt ~ babies$race )
aov( babies$bwt ~ babies$smoke )
aov( babies$bwt ~ babies$number )
TukeyHSD( m.race )
TukeyHSD( m.race2 )
library(granovaGG)
granovagg.1w(babies$bwt,babies$smoke)
summary( lm.race )$r.squared
summary( lm.smoke )$r.squared
summary( lm.number )$r.squared
summary.lm( lm.race )
summary.lm( lm.smoke )
summary.lm( lm.number )
summary.aov( lm.number )
aov( babies$bwt ~ babies$race )
summary.aov( lm.number )
aov( babies$bwt ~ babies$number )
TukeyHSD( lm.race )
granovagg.1w( babies$bwt, babies$race )
granovagg.1w( babies$bwt, babies$smoke )
granovagg.1w( babies$bwt, babies$number )
granovagg.1w( babies$bwt, factor( babies$race ) )
granovagg.1w( babies$bwt, babies$race )
granovagg.1w( babies$bwt, babies$smoke )
granovagg.1w( babies$bwt, babies$number )
granovagg.1w( babies$bwt, babies$race )
granovagg.1w( babies$bwt, babies$race )
ggplot(babies, aes(x = race, y = bwt)) +
geom_boxplot() +
stat_summary(geom = "point", fun.y = "mean")
ggplot( babies, aes( x = race, y = bwt ) ) +
geom_boxplot( ) +
stat_summary( geom = "point", fun.y = "mean" )
ggplot( babies, aes( x = smoke, y = bwt ) ) +
geom_boxplot( ) +
stat_summary( geom = "point", fun.y = "mean" )
ggplot( babies, aes( x = number, y = bwt ) ) +
geom_boxplot( ) +
stat_summary( geom = "point", fun.y = "mean" )
ggplot( babies, aes( x = number.sorted, y = bwt ) ) +
geom_boxplot( ) +
stat_summary( geom = "point", fun.y = "mean" )
ggplot( babies, aes( x = race.sorted, y = bwt ) ) +
geom_boxplot( ) +
stat_summary( geom = "point", fun.y = "mean" )
ggplot( babies, aes( x = smoke.sorted, y = bwt ) ) +
geom_boxplot( ) +
stat_summary( geom = "point", fun.y = "mean" )
ggplot( babies, aes( x = number.sorted, y = bwt ) ) +
geom_boxplot( ) +
stat_summary( geom = "point", fun.y = "mean" )
coef(summary(m1))
coef( summary( lm.race ) )
coef( summary( lm.smoke ) )
coef( summary( lm.number ) )
babies$sex.mf <- factor( babies$sex,
levels = c( 0, 1 ),
labels = c( "male", "female" ) )
class( babies$sex.mf )
table( babies$sex.mf )
babies
babies$marital.w <- factor( babies$marital,
levels = c( 1 : 5 ),
labels = c( "married", "legally separated", "divorced", "widowed", "never married" ) )
babies$marital.w
babies
table(babies$inc)
table(babies$marital)
babies$inc.text <- factor( babies$inc,
levels = c( 0 : 9, 98, 99 ),
labels = c("<2500",
paste(
seq( 2500, 20000, by = 2500 ),
seq( 4999, 22500, by = 2500 ),
sep = "-" ),
"25000+", "unknown","not asked" ) )
babies$inc.text <- factor( babies$inc,
levels = c( 0 : 9, 98, 99 ),
labels = c("<2500",
paste(
seq( 2500, 20000, by = 2500 ),
seq( 4999, 22500, by = 2500 ),
sep = "-" ),
"25000+", "unknown","not asked" ) )
babies$inc.text <- factor( babies$inc,
levels = c( 0 : 9, 98, 99 ),
labels = c("<2500",
paste(
seq( 2500, 20000, by = 2500 ),
seq( 4999, 22500, by = 2500 ),
sep = "-" ),
"25000+", "unknown","not asked" ) )
babies$inc.text
table( babies$inc.text )
addmargins( prop.table( table( babies$inc.text, babies$marital.text ), 2 ) )
table( babies$inc.text )
addmargins( prop.table( table( babies$inc.text, babies$marital.text ), 2 ) )
addmargins( prop.table( table( babies$inc, babies$marital ), 2 ) )
addmargins( prop.table( table( babies$inc.text, babies$marital ), 2 ) )
babies$marital.text <- factor( babies$marital,
levels = c( 1 : 5 ),
labels = c( "married", "legally separated", "divorced", "widowed", "never married" ) )
table(babies$inc)
babies$inc.text <- factor( babies$inc,
levels = c( 0 : 9, 98, 99 ),
labels = c("<2500",
paste(
seq( 2500, 20000, by = 2500 ),
seq( 4999, 22500, by = 2500 ),
sep = "-" ),
"25000+", "unknown", "not asked" ) )
table( babies$inc.text )
addmargins( prop.table( table( babies$inc.text, babies$marital.text ), 2 ) )
babies$sex.jm <- factor( babies$sex.mf,
levels = c( "male", "female" ),
labels = c( "Junge", "Maedchen" ) )
table(babies$sex.jm)
babies$drace <- recode( babies$drace,
'0:5="white";6="mex";7="black";8="asian";c(9,10)="mixed";99=NA')
library(car)
babies$drace <- recode( babies$drace,
'0:5="white";6="mex";7="black";8="asian";c(9,10)="mixed";99=NA')
babies$drace
babies <- read_excel( "../data/babies.xlsx" )
babies$drace
prop.table( table( babies$race == babies$drace ) )
babies$drace <- recode( babies$drace,
'0:5="white";6="mex";7="black";8="asian";c(9,10)="mixed";99=NA')
prop.table( table( babies$race == babies$drace ) )
granovagg.1w( babies$bwt, babies$race )
library( "readxl" )
library( "ggplot2" )
setwd( "~/Dokumente/RLearning/githubRepos/tpeschel.github.io/sessions/session6/r/" )
babies <- read_excel( "../data/babies.xlsx" )
head( babies )
kg.per.oz <- 28.34952e-3
babies$bwt <- round( babies$wt * kg.per.oz, 3 )
unique( babies$race )
unique( babies$smoke )
unique( babies$number )
( tbl.bwt    <- table( round( babies$bwt, 1 ) ) )
( tbl.race   <- table( babies$race ) )
( tbl.smoke  <- table( babies$smoke ) )
( tbl.number <- table( babies$number ) )
round( prop.table( tbl.bwt ) * 100, 1 )
round( prop.table( tbl.race ) * 100, 1 )
round( prop.table( tbl.smoke ) * 100, 1 )
round( prop.table( tbl.number ) * 100, 1 )
summary( babies$bwt )
babies$race.sorted   <- factor( babies$race, levels = names( sort( tbl.race, decreasing = T ) ) )
babies$smoke.sorted  <- factor( babies$smoke, levels = names( sort( tbl.smoke, decreasing = T ) ) )
babies$number.sorted <- factor( babies$number, levels = names( sort( tbl.number, decreasing = T ) ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number, fill = number ) ) +
facet_grid( race.sorted ~ smoke.sorted )
lm.race   <- lm( babies$bwt ~ babies$race )
lm.smoke  <- lm( babies$bwt ~ babies$smoke )
lm.number <- lm( babies$bwt ~ babies$number )
lm.number
( lm.race   <- lm( babies$bwt ~ babies$race ) )
( lm.smoke  <- lm( babies$bwt ~ babies$smoke ) )
( lm.number <- lm( babies$bwt ~ babies$number ) )
summary( lm.race )
summary( lm.smoke )
summary( lm.number )
round( prop.table( tbl.bwt ) * 100, 1 )
round( prop.table( tbl.race ) * 100, 1 )
round( prop.table( tbl.smoke ) * 100, 1 )
round( prop.table( tbl.number ) * 100, 1 )
summary( babies$bwt )
babies$race.sorted   <- factor( babies$race, levels = names( sort( tbl.race, decreasing = T ) ) )
babies$smoke.sorted  <- factor( babies$smoke, levels = names( sort( tbl.smoke, decreasing = T ) ) )
babies$number.sorted <- factor( babies$number, levels = names( sort( tbl.number, decreasing = T ) ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( race.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( smoke.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number.sorted ) )
ggplot ( babies ) + theme_bw( ) +
geom_bar( aes( number, fill = number ) ) +
facet_grid( race.sorted ~ smoke.sorted )
( lm.race   <- lm( babies$bwt ~ babies$race ) )
( lm.smoke  <- lm( babies$bwt ~ babies$smoke ) )
( lm.number <- lm( babies$bwt ~ babies$number ) )
summary( lm.race )
summary( lm.smoke )
summary( lm.number )
summary( lm.race )$r.squared
summary( lm.smoke )$r.squared
summary( lm.number )$r.squared
summary.lm( lm.race )
summary.lm( lm.smoke )
summary.lm( lm.number )
summary.aov( lm.race )
summary.aov( lm.smoke )
summary.aov( lm.number )
anova( lm.race )
anova( lm.smoke )
anova( lm.number )
anova( lm.race )
anova( lm.race )
1 - pf( 11.473, 1, 1218 )
anova( lm.smoke )
1 - pf( 19-224, 1, 1231 )
anova( lm.number )
1 - pf( 5.9919, 1, 1225 )
1 - pf( 19-224, 1, 1231 )
anova( lm.smoke )
1 - pf( 19-224, 1, 1231 )
1 - pf( 19.224, 1, 1231 )
?pf
